- ## HTTP 缓存

1. 首先通过 Cache-Control 验证强缓存是否可用，如果强缓存可用，那么直接读取缓存。
2. 如果不可以，那么进入协商缓存阶段，发起 HTTP 请求，服务器通过请求头中是否带上 if-Modified-Since 和 If-None-Match 这些条件请求字段检查资源是否更新：若资源更新，那么返回资源和 200 状态码；如果资源未更新，那么告诉浏览器直接使用缓存获取资源。

- ## 常用状态码
  ● 101 切换请求协议，从 HTTP 切换到 WebSocket  
  ● 200 请求成功，有响应体  
  ● 301 永久重定向：会缓存  
  ● 302 临时重定向：不会缓存  
  ● 304 协商缓存命中  
  ● 403 服务器禁止访问  
  ● 404 资源未找到  
  ● 400 请求错误  
  ● 500 服务器端错误  
  ● 503 服务器繁忙  
  302 表示临时重定向，这个资源只是暂时不能被访问了，但是之后过一段时间还是可以继续访问，一般是访问某个网站的资源需要权限时，会需要用户去登录，跳转到登录页面之后登录之后，还可以继续访问。  
  301 类似，都会跳转到一个新的网站，但是 301 代表访问的地址的资源被永久移除了，以后都不应该访问这个地址，搜索引擎抓取的时候也会用新的地址替换这个老的。可以在返回的响应的 location 首部去获取到返回的地址。301 的场景如下：

● 比如从 http://baidu.com，跳转到 https://baidu.com  
● 域名换了

- ## 计算机网络系列

1. **7 层架构**：应用层（HTTP）、表示层、会话层、传输层（TCP/IP）、网络层（IP）、数据链路层、物理层
2. **HTTTPS 是什么**：HTTPS 是在 HTTP 和 TCP 之间建立了一个安全层，HTTP 与 TCP 通信的时候，必须先进过一个安全层，对数据包进行加密，然后将加密后的数据包传送给 TCP，相应的 TCP 必须将数据包解密，才能传给上面的 HTTP。  
   浏览器传输一个 client_random 和加密方法列表，服务器收到后，传给浏览器一个 server_random、加密方法列表和数字证书（包含了公钥），然后浏览器对数字证书进行合法验证，如果验证通过，则生成一个 pre_random，然后用公钥加密传给服务器，服务器用 client_random、server_random 和 pre_random ，使用公钥加密生成 secret，然后之后的传输使用这个 secret 作为秘钥来进行数据的加解密。
3. **三次握手和四次挥手**：  
   `三次握手主要流程`：（少一次都无法确认客户端的接收能力。）  
   ● 一开始双方处于 CLOSED 状态，然后服务端开始监听某个端口进入 LISTEN 状态  
   ● 然后客户端主动发起连接，发送 SYN，然后自己变为 SYN-SENT，seq = x  
   ● 服务端收到之后，返回 SYN seq = y 和 ACK ack = x + 1（对于客户端发来的 SYN），自己变成 SYN-REVD  
   ● 之后客户端再次发送 ACK seq = x + 1, ack = y + 1 给服务端，自己变成 EASTABLISHED 状态，服务端收到 ACK，也进入 ESTABLISHED  
   `四次挥手主要流程`：  
   ● 一开始都处于 ESTABLISH 状态，然后客户端发送 FIN 报文，带上 seq = p，状态变为 FIN-WAIT-1  
   ● 服务端收到之后，发送 ACK 确认，ack = p + 1，然后进入 CLOSE-WAIT 状态  
   ● 客户端收到之后进入 FIN-WAIT-2 状态  
   ● 过了一会等数据处理完，再次发送 FIN、ACK，seq = q，ack = p + 1，进入 LAST-ACK 阶段  
   ● 客户端收到 FIN 之后，客户端收到之后进入 TIME_WAIT（等待 2MSL），然后发送 ACK 给服务端 ack = 1 + 1  
   ● 服务端收到之后进入 CLOSED 状态
